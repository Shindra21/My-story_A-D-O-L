/* app/styles/map-marker.css */

/* 1. Vỏ ngoài Marker (Do Mapbox quản lý vị trí) */
.rpg-marker {
  cursor: pointer;
  z-index: 1;
  /* Quan trọng: Để position absolute hoặc relative để con bên trong định vị theo */
  position: relative; 
}

/* Khi được active (hover), đưa lên lớp trên cùng */
.rpg-marker.active {
  z-index: 100 !important;
}

/* 2. Icon bên trong (Do mình quản lý hiệu ứng) */
.marker-icon {
  font-size: 30px;
  /* Đổ bóng nhẹ để tách biệt khỏi nền bản đồ */
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.5));
  /* Hiệu ứng chuyển động mượt mà */
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  /* Animation nhún nhảy mặc định */
  animation: float 3s ease-in-out infinite;
  /* Đảm bảo icon nằm giữa tâm marker */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* 3. KHI HOVER: Phóng to icon con, thêm hào quang */
.rpg-marker.active .marker-icon {
  transform: scale(1.4) translateY(-10px);
  filter: drop-shadow(0 0 15px #00ffcc);
}

/* --- CÁC ANIMATION --- */

/* Nhún nhảy */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

/* Hiệu ứng hiện Box thông tin (Fade In + Bay lên) */
@keyframes fadeInUp {
  from { 
      opacity: 0; 
      transform: translate(-50%, calc(-90% - 20px)) scale(0.9); 
  }
  to { 
      opacity: 1; 
      transform: translate(-50%, calc(-100% - 20px)) scale(1); 
  }
}

/* Hiệu ứng vệt sáng quét qua ảnh (Shimmer) */
@keyframes shimmer {
  100% { left: 200%; }
}